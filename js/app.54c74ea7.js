(function(t){function o(o){for(var a,r,l=o[0],s=o[1],c=o[2],p=0,d=[];p<l.length;p++)r=l[p],n[r]&&d.push(n[r][0]),n[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);u&&u(o);while(d.length)d.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var t,o=0;o<i.length;o++){for(var e=i[o],a=!0,l=1;l<e.length;l++){var s=e[l];0!==n[s]&&(a=!1)}a&&(i.splice(o--,1),t=r(r.s=e[0]))}return t}var a={},n={app:0},i=[];function r(o){if(a[o])return a[o].exports;var e=a[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=a,r.d=function(t,o,e){r.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,o){if(1&o&&(t=r(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var a in t)r.d(e,a,function(o){return t[o]}.bind(null,a));return e},r.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(o,"a",o),o},r.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=o,l=l.slice();for(var c=0;c<l.length;c++)o(l[c]);var u=s;i.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},"034f":function(t,o,e){"use strict";var a=e("64a9"),n=e.n(a);n.a},"56d7":function(t,o,e){"use strict";e.r(o);e("cadf"),e("551c"),e("097d");var a=e("2b0e"),n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("section",[e("button",{staticClass:"button is-primary is-medium",on:{click:function(o){t.isComponentModalActive=!0}}},[t._v("\n        Launch component modal\n    ")]),e("b-modal",{attrs:{active:t.isComponentModalActive,"has-modal-card":""},on:{"update:active":function(o){t.isComponentModalActive=o}}},[e("modal-form",t._b({},"modal-form",t.formProps,!1))],1)],1)},i=[],r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"modal-card"},[t._m(0),e("section",{staticClass:"modal-card-body"},[e("b-field",{attrs:{label:"住所検索",message:"地域名をキーワードに住所を取得できます"}},[e("div",[e("b-input",{attrs:{placeholder:"住所入力",icon:"magnify",onfocus:"this.select();"},model:{value:t.addressBox.value,callback:function(o){t.$set(t.addressBox,"value",o)},expression:"addressBox.value"}}),e("button",{staticClass:"button is-primary",on:{click:function(o){t.getGeocode({address:t.addressBox.value})}}},[e("b-icon",{staticStyle:{"margin-right":"2vw"},attrs:{icon:"map-search"}}),t._v("検索")],1)],1)]),e("b-field",{attrs:{label:"緯度経度情報",type:t.latlongBox.correct?"":"is-danger",message:t.latLongBoxStatuses.labelMessage}},[e("div",[e("b-input",{staticClass:"latlng",attrs:{placeholder:"緯度経度",icon:"map-marker-radius",disabled:""},model:{value:t.latlongBox.value,callback:function(o){t.$set(t.latlongBox,"value",o)},expression:"latlongBox.value"}})],1)]),e("button",{staticClass:"button",attrs:{disabled:!t.hasGeolocation}},[e("b-icon",{attrs:{icon:"compass"}}),e("span",[t._v("現在地")])],1),e("div",{attrs:{id:"map"}})],1),e("footer",{staticClass:"modal-card-foot"},[e("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(o){t.$parent.close()}}},[t._v("Close")])])])},l=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title",staticStyle:{"text-align":"center"}},[t._v("位置情報設定")])])}],s=(e("6b54"),e("a481"),e("28a5"),e("a709")),c={name:"ModalForm",props:{},data:function(){return{hasGeolocation:"geolocation"in navigator,isGPSworking:!1,mapObj:{mapElm:{},latlng:{lat:37.8629704,lng:136.4834582},zoom:6,marker:{},infoWindow:{},autocomplete:{},geocoder:{},map:{}},addressBox:{value:"",inFocus:!1},latlongBox:{value:"",inFocus:!1,correct:!0},googleMaps:{},targetMapElem:{}}},computed:{latLongBoxStatuses:function(){var t="緯度経度情報は[緯度 (latitude) : -90 〜 90,経度 (longitude) : -180 〜 180]による記入のみです。",o="情報の反映は入力反映ボタンを押してください。",e="",a="";this.latlongBox.correct||(e+=t+=this.latlongBox.inFocus?"<br>":"",a="is-danger"),this.latlongBox.inFocus&&(e+=o);var n={labelMessage:e,labelType:a};return n}},watch:{"mapObj.latlng":{handler:function(t,o){this.latlongBox.value=this.makeLatlongLine();var e=this.mapObj.map;e.center&&(e.getCenter().lat()==t.lat&&e.getCenter().lng()==t.ong||e.setCenter(t))},deep:!0}},methods:{initGoogleMaps:function(){var t=this;s({key:"AIzaSyApvOihEARIgFwXudP7i6IM2oob9QryW7g",language:"ja",libraries:["places"]}).then(function(o){t.googleMaps=o,t.initMap(),t.initGeocorder(),t.setMarkerFirst()}).catch(function(t){console.error(t)})},initMap:function(){var t=this;this.mapObj.map=new this.googleMaps.Map(this.mapObj.mapElm,{center:this.mapObj.latlng,zoom:this.mapObj.zoom,fullscreenControl:!1,mapTypeControl:!1,streetViewControl:!1}),this.mapObj.map.addListener("click",t.clickMap)},setMarkerFirst:function(){this.mapObj.marker=new google.maps.Marker({position:this.mapObj.latlng,map:this.mapObj.map,draggable:!0,animation:google.maps.Animation.DROP}),this.mapObj.infoWindow=new google.maps.InfoWindow({content:""}),this.getGeocode({latLng:this.mapObj.latlng});var t=this.mapObj.marker,o=this.mapObj.infoWindow;t.addListener("dragstart",function(){o.close()})},clickMap:function(t){console.log(t)},initGeocorder:function(){this.mapObj.geocoder=new this.googleMaps.Geocoder},initAutocomplete:function(){var t=document.querySelector(".addresses .input"),o=this.googleMaps.LatLng(35.692195,139.7576653),e=this.googleMaps.LatLng(35.696157,139.7525771),a=this.googleMaps.LatLngBounds(o,e),n={types:["geocode"],bounds:a,componentRestrictions:{country:"jp"}};this.mapObj.autocomplete=new this.googleMaps.places.Autocomplete(t,n)},searchGeocode:function(){},UIctrl:function(){var t=this;return{toast:function(o,e,a,n){var i=e||"is-white",r=o||"",l=a||"is-top",s=n||5e3;t.$toast.open({duration:s,message:r,position:l,type:i})}}},doForcus:function(t,o,e){t.inFocus=o},checkLatLngValidator:function(t){t.split(",");var o=/-?\d+\.?\d*[,]-?\d+\.?\d*/,e=o.exec(t);return e&&e[0]==e.input?this.latlongBox.correct=!0:this.latlongBox.correct=!1,e},setMapobjLatlong:function(t){this.mapObj.latlng.lat=t[0],this.mapObj.latlng.lng=t[1]},makeLatlongLine:function(){var t="".concat(this.mapObj.latlng.lat,",").concat(this.mapObj.latlng.lng);return t.length<3?"":t},getGeocode:function(t){var o=this;this.mapObj.geocoder.geocode(t,function(t,e){if(e==o.googleMaps.GeocoderStatus.OK){new o.googleMaps.LatLngBounds;var a=o.mapObj.map,n=o.mapObj.infoWindow,i=o.mapObj.marker;o.mapObj.latlng;if(t[0].geometry){var r=t[0].geometry.location,l=t[0].formatted_address.replace(/^日本、/,"");o.setMapobjLatlong([t[0].geometry.location.lat(),t[0].geometry.location.lng()]),o.addressBox.value=l,i.setPosition(r),n.setContent(l+"<br>(Lat, Lng) = "+r.toString()),n.open(a,i)}a.fitBounds(t[0].geometry.bounds)}else e==google.maps.GeocoderStatus.ERROR?alert("サーバとの通信時に何らかのエラーが発生！"):e==google.maps.GeocoderStatus.INVALID_REQUEST?alert("リクエストに問題アリ！geocode()に渡すGeocoderRequestを確認せよ！！"):e==google.maps.GeocoderStatus.OVER_QUERY_LIMIT?alert("短時間にクエリを送りすぎ！落ち着いて！！"):e==google.maps.GeocoderStatus.REQUEST_DENIED?alert("このページではジオコーダの利用が許可されていない！・・・なぜ！？"):e==google.maps.GeocoderStatus.UNKNOWN_ERROR?alert("サーバ側でなんらかのトラブルが発生した模様。再挑戦されたし。"):e==google.maps.GeocoderStatus.ZERO_RESULTS?alert("見つかりません"):alert("えぇ～っと・・、バージョンアップ？")})},placeSearch:function(){}},created:function(){this.latlongBox.value=this.makeLatlongLine()},mounted:function(){var t=this;this.hasGeolocation?navigator.geolocation.getCurrentPosition(function(o){t.isGPSworking=!0,t.mapObj.zoom=16,t.mapObj.latlng.lat=o.coords.latitude,t.mapObj.latlng.lng=o.coords.longitude,t.UIctrl().toast("現在地で初期化されました","is-info"),t.initGoogleMaps()},function(o){t.UIctrl().toast("GPS情報は取得できませんでした","is-info"),t.initGoogleMaps()}):(this.UIctrl().toast("この端末でのGPS情報は取得できません","is-warning"),t.initGoogleMaps()),document.querySelector(".modal .animation-content").style.maxWidth="90vw",this.mapObj.mapElm=document.getElementById("map")}},u=c,p=(e("b83a"),e("2877")),d=Object(p["a"])(u,r,l,!1,null,null,null);d.options.__file="ModalForm.vue";var g=d.exports,m={components:{ModalForm:g},data:function(){return{isComponentModalActive:!1,formProps:{email:"evan@you.com",password:"testing"}}}},f=m,b=(e("034f"),Object(p["a"])(f,n,i,!1,null,null,null));b.options.__file="App.vue";var h=b.exports,v=e("8a03"),O=e.n(v);e("5abe");a["default"].use(O.a),a["default"].config.productionTip=!1,new a["default"]({render:function(t){return t(h)}}).$mount("#app")},"64a9":function(t,o,e){},"8bc7":function(t,o,e){},b83a:function(t,o,e){"use strict";var a=e("8bc7"),n=e.n(a);n.a}});
//# sourceMappingURL=app.54c74ea7.js.map